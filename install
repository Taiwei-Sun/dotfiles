#!/bin/bash

backup_file() {
	local file=$1
	if test -L "$HOME/.$file"; then
		rm -v "$HOME/.$file"
	elif test -e "$HOME/.$file"; then
		mv -Tv "$HOME/.$file" "$HOME/.$file.old"
	fi
}

do_install() {
	local file=$1
	backup_file "$file"
	ln -sfv "$PWD/$file" "$HOME/.$file"
}

# files to the home directory
for f in $(ls -d * | grep -v "config\|README\|install") ; do
	do_install "$f"
done

# files in the config folder (to the ~/.config)
for f in $(ls -d config/*); do
	do_install "$f"
done

